<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Workout Routine</title>
  <style>
    /* Basic Mobile-Friendly Styles */
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      display: flex;
      flex-direction: column;
      align-items: center;
      background-color: #f7f7f7;
    }
    .container {
      max-width: 400px;
      width: 100%;
      padding: 10px;
    }
    h1, h2, h3 {
      color: #333;
      text-align: center;
    }
    label {
      display: block;
      margin-top: 10px;
      font-weight: bold;
    }
    input[type="text"], input[type="number"], select {
      width: 100%;
      padding: 8px;
      margin-top: 5px;
      margin-bottom: 10px;
      border-radius: 5px;
      border: 1px solid #ccc;
    }
    button {
      width: 100%;
      padding: 10px;
      margin-top: 10px;
      border: none;
      border-radius: 5px;
      color: white;
      background-color: #4CAF50;
      font-size: 16px;
    }
    .button-group {
      display: flex;
      gap: 10px;
      justify-content: space-between;
    }
    .exercise-list {
      list-style: none;
      padding: 0;
    }
    .exercise-item {
      background: #e0e0e0;
      padding: 10px;
      margin-bottom: 5px;
      border-radius: 5px;
    }
  </style>
</head>
<body>

<div class="container">
  <h1>Create Workout Routine</h1>

  <!-- Routine Name -->
  <label for="routineName">Routine Name</label>
  <input type="text" id="routineName" placeholder="Enter routine name">

  <!-- Exercise Section -->
  <h2>Add Exercise</h2>
  <label for="exerciseName">Exercise Name</label>
  <input type="text" id="exerciseName" placeholder="Enter exercise name">

  <!-- Muscle Selection -->
  <label>Muscles Worked</label>
  <div class="button-group">
    <button onclick="addMuscle('Chest')">Chest</button>
    <button onclick="addMuscle('Back')">Back</button>
    <button onclick="addMuscle('Shoulders')">Shoulders</button>
    <button onclick="addMuscle('Legs')">Legs</button>
    <button onclick="addMuscle('Biceps')">Biceps</button>
    <button onclick="addMuscle('Triceps')">Triceps</button>
  </div>
  <p><strong>Selected Muscles:</strong> <span id="selectedMuscles">None</span></p>

  <!-- Sets and Reps or Time -->
  <label for="sets">Number of Sets</label>
  <input type="number" id="sets" min="1" max="10" value="1">

  <label>Reps or Time</label>
  <select id="repsOrTime" onchange="toggleRepsTimeInput()">
    <option value="reps">Reps</option>
    <option value="time">Time</option>
  </select>

  <div id="repsInput" style="display: block;">
    <label for="reps">Reps</label>
    <input type="number" id="reps" min="1" max="100">
  </div>

  <div id="timeInput" style="display: none;">
    <label for="time">Time (MM:SS)</label>
    <input type="text" id="time" placeholder="00:30">
  </div>

  <!-- Rest Time -->
  <label>Rest Between Sets</label>
  <select id="rest" onchange="toggleRestInput()">
    <option value="no">No</option>
    <option value="yes">Yes</option>
  </select>
  <div id="restTimeInput" style="display: none;">
    <label for="restTime">Rest Time (MM:SS)</label>
    <input type="text" id="restTime" placeholder="00:30">
  </div>

  <button onclick="addExercise()">Save Exercise</button>

  <h2>Exercises</h2>
  <ul class="exercise-list" id="exerciseList"></ul>

  <button onclick="saveWorkout()">Save Workout Routine</button>

  <h2>Play Routine</h2>
  <button onclick="startWorkout()">Start Workout</button>
</div>

<script>
  let muscles = [];
  let exercises = [];

  function addMuscle(muscle) {
    if (!muscles.includes(muscle)) {
      muscles.push(muscle);
      document.getElementById("selectedMuscles").innerText = muscles.join(", ");
    }
  }

  function toggleRepsTimeInput() {
    const value = document.getElementById("repsOrTime").value;
    document.getElementById("repsInput").style.display = value === "reps" ? "block" : "none";
    document.getElementById("timeInput").style.display = value === "time" ? "block" : "none";
  }

  function toggleRestInput() {
    const value = document.getElementById("rest").value;
    document.getElementById("restTimeInput").style.display = value === "yes" ? "block" : "none";
  }

  function addExercise() {
    const exerciseName = document.getElementById("exerciseName").value;
    const sets = document.getElementById("sets").value;
    const repsOrTime = document.getElementById("repsOrTime").value === "reps"
      ? `${document.getElementById("reps").value} reps`
      : document.getElementById("time").value;
    const restTime = document.getElementById("rest").value === "yes" ? document.getElementById("restTime").value : "No Rest";

    const exercise = {
      name: exerciseName,
      sets,
      repsOrTime,
      muscles: muscles.join(", "),
      restTime
    };

    exercises.push(exercise);
    displayExercises();
  }

  function displayExercises() {
    const exerciseList = document.getElementById("exerciseList");
    exerciseList.innerHTML = '';
    exercises.forEach((exercise, index) => {
      exerciseList.innerHTML += `
        <li class="exercise-item">
          <strong>${exercise.name}</strong> - Sets: ${exercise.sets}, ${exercise.repsOrTime}, Muscles: ${exercise.muscles}, Rest: ${exercise.restTime}
          <button onclick="deleteExercise(${index})">Delete</button>
        </li>
      `;
    });
  }

  function deleteExercise(index) {
    exercises.splice(index, 1);
    displayExercises();
  }

  function saveWorkout() {
    // Code to save workout data (you can use Blob API as discussed previously)
    alert("Workout routine saved!");
  }

  function startWorkout() {
    alert("Starting workout routine...");
    // Implement workout play functionality here, including tracking sets, beeps, and rest time
  }
</script>

</body>
</html>
