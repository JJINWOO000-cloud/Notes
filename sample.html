<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Workout Planner</title>
    <style>
        body { font-family: Arial, sans-serif; }
        .hidden { display: none; }
        .exercise-list, .workout-display { margin-top: 20px; }
        .exercise { margin-bottom: 10px; }
        button { margin-top: 10px; }
    </style>
</head>
<body>
    <h1>Create Workout Routine</h1>

    <div id="routine-creation">
        <label for="routineName">Routine Name:</label>
        <input type="text" id="routineName" placeholder="Enter routine name" required>

        <h2>Add Exercise</h2>
        <label for="exerciseName">Exercise Name:</label>
        <input type="text" id="exerciseName" placeholder="Enter exercise name" required>

        <label for="muscleGroup">Select Muscle:</label>
        <select id="muscleGroup">
            <option>Chest</option>
            <option>Back</option>
            <option>Shoulders</option>
            <option>Legs</option>
            <option>Biceps</option>
            <option>Triceps</option>
        </select>

        <label>Exercise Type:</label>
        <select id="exerciseType">
            <option value="sets">Sets</option>
            <option value="time">Time</option>
        </select>

        <div id="setsInput">
            <label for="sets">Sets:</label>
            <input type="number" id="sets" min="1" max="10">
            <label for="reps">Reps:</label>
            <input type="number" id="reps" min="1">
        </div>

        <div id="timeInput" class="hidden">
            <label for="timer">Timer (mm:ss):</label>
            <input type="text" id="timer" placeholder="00:10 (min 10s, max 5m)">
        </div>

        <label>Rest Time Between Exercises:</label>
        <input type="text" id="restTime" placeholder="00:30" value="00:30">

        <button onclick="addExercise()">Add Exercise</button>

        <div class="exercise-list">
            <h3>Exercises:</h3>
            <ul id="exerciseList"></ul>
        </div>

        <button onclick="startWorkout()">Start Workout Routine</button>
    </div>

    <div id="workout-display" class="workout-display hidden">
        <h2>Workout Routine: <span id="workoutName"></span></h2>
        <h3>Current Exercise</h3>
        <p id="currentExercise"></p>
        <button onclick="nextExercise()">Next Exercise</button>
        <p>Routine Timer: <span id="routineTimer">00:00</span></p>
        <button onclick="endWorkout()">End Workout Early</button>
    </div>

    <script>
        let exercises = [];
        let currentExerciseIndex = 0;
        let workoutInterval;
        let routineStartTime;

        document.getElementById("exerciseType").addEventListener("change", function() {
            const type = this.value;
            document.getElementById("setsInput").classList.toggle("hidden", type !== "sets");
            document.getElementById("timeInput").classList.toggle("hidden", type !== "time");
        });

        function addExercise() {
            const name = document.getElementById("exerciseName").value;
            const muscle = document.getElementById("muscleGroup").value;
            const type = document.getElementById("exerciseType").value;
            const restTime = document.getElementById("restTime").value;

            let exercise = { name, muscle, type, restTime };

            if (type === "sets") {
                exercise.sets = document.getElementById("sets").value;
                exercise.reps = document.getElementById("reps").value;
            } else {
                exercise.time = document.getElementById("timer").value;
            }

            exercises.push(exercise);
            displayExercises();
        }

        function displayExercises() {
            const list = document.getElementById("exerciseList");
            list.innerHTML = "";
            exercises.forEach((exercise, index) => {
                const li = document.createElement("li");
                li.innerText = `${exercise.name} (${exercise.muscle}) - ${exercise.type === "sets" ? exercise.sets + " sets x " + exercise.reps + " reps" : "Time: " + exercise.time} - Rest: ${exercise.restTime}`;
                list.appendChild(li);
            });
        }

        function startWorkout() {
            if (!exercises.length) {
                alert("Please add at least one exercise.");
                return;
            }

            document.getElementById("routine-creation").classList.add("hidden");
            document.getElementById("workout-display").classList.remove("hidden");

            document.getElementById("workoutName").innerText = document.getElementById("routineName").value;
            routineStartTime = Date.now();
            displayCurrentExercise();
            startRoutineTimer();
        }

        function displayCurrentExercise() {
            if (currentExerciseIndex >= exercises.length) {
                endWorkout();
                return;
            }

            const exercise = exercises[currentExerciseIndex];
            document.getElementById("currentExercise").innerText = `${exercise.name} (${exercise.muscle}) - ${exercise.type === "sets" ? exercise.sets + " sets x " + exercise.reps + " reps" : "Time: " + exercise.time}`;
        }

        function nextExercise() {
            if (currentExerciseIndex < exercises.length - 1) {
                currentExerciseIndex++;
                displayCurrentExercise();
            } else {
                endWorkout();
            }
        }

        function startRoutineTimer() {
            workoutInterval = setInterval(() => {
                const elapsed = Date.now() - routineStartTime;
                const minutes = Math.floor(elapsed / 60000).toString().padStart(2, "0");
                const seconds = Math.floor((elapsed % 60000) / 1000).toString().padStart(2, "0");
                document.getElementById("routineTimer").innerText = `${minutes}:${seconds}`;
            }, 1000);
        }

        function endWorkout() {
            clearInterval(workoutInterval);
            alert("Workout completed!");
            document.getElementById("workout-display").classList.add("hidden");
            document.getElementById("routine-creation").classList.remove("hidden");
            currentExerciseIndex = 0;
            exercises = [];
            displayExercises();
        }
    </script>
</body>
</html>
