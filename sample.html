<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Workout Routine Planner</title>
  <style>
    body { font-family: Arial, sans-serif; max-width: 600px; margin: auto; padding: 20px; }
    input, select, button { margin: 5px 0; padding: 8px; width: 100%; }
    .exercise { border: 1px solid #ddd; padding: 10px; margin-top: 10px; }
    .controls { display: flex; justify-content: space-between; }
  </style>
</head>
<body>

  <h1>Workout Routine Planner</h1>
  <div>
    <label>Routine Name:</label>
    <input type="text" id="routineName" placeholder="Enter routine name">
    <button onclick="saveRoutine()">Save Workout</button>
  </div>

  <h2>Add Exercise</h2>
  <div id="exerciseContainer"></div>
  <button onclick="addExercise()">Add Exercise</button>

  <button onclick="startRoutine()">Start Workout</button>
  
  <h2>Routine Progress</h2>
  <div id="workoutProgress" style="display: none;">
    <div id="currentExercise"></div>
    <button id="startExerciseBtn" onclick="startExercise()">Start Exercise</button>
    <button onclick="nextExercise()">Next</button>
    <div id="restTimeDisplay"></div>
    <div>Total Duration: <span id="totalDuration">00:00</span></div>
  </div>

  <script>
    let exercises = [];
    let currentExerciseIndex = 0;
    let workoutDuration = 0;
    let restInterval;

    function addExercise() {
      const exerciseId = exercises.length;
      const exerciseDiv = document.createElement('div');
      exerciseDiv.classList.add('exercise');
      exerciseDiv.id = `exercise-${exerciseId}`;
      exerciseDiv.innerHTML = `
        <label>Exercise Name:</label>
        <input type="text" placeholder="Enter exercise name" id="exerciseName-${exerciseId}">
        <label>Muscles Worked:</label>
        <select multiple id="muscles-${exerciseId}">
          <option value="Chest">Chest</option>
          <option value="Back">Back</option>
          <option value="Shoulders">Shoulders</option>
          <option value="Legs">Legs</option>
          <option value="Biceps">Biceps</option>
          <option value="Triceps">Triceps</option>
        </select>
        <label>Sets (Min 1, Max 10):</label>
        <input type="number" min="1" max="10" id="sets-${exerciseId}">
        <label>Type:</label>
        <select onchange="toggleRepsOrTime(${exerciseId})" id="type-${exerciseId}">
          <option value="reps">Reps</option>
          <option value="time">Time</option>
        </select>
        <div id="repsInput-${exerciseId}">
          <label>Reps:</label>
          <input type="number" min="1" id="reps-${exerciseId}">
        </div>
        <div id="timeInput-${exerciseId}" style="display: none;">
          <label>Timer (MM:SS):</label>
          <input type="text" placeholder="00:00" id="timer-${exerciseId}">
        </div>
        <label>Rest Time (MM:SS):</label>
        <input type="text" placeholder="00:00" id="rest-${exerciseId}">
        <div class="controls">
          <button onclick="removeExercise(${exerciseId})">Delete</button>
        </div>
      `;
      document.getElementById('exerciseContainer').appendChild(exerciseDiv);
      exercises.push({ id: exerciseId, completed: false });
    }

    function toggleRepsOrTime(id) {
      const type = document.getElementById(`type-${id}`).value;
      document.getElementById(`repsInput-${id}`).style.display = type === 'reps' ? 'block' : 'none';
      document.getElementById(`timeInput-${id}`).style.display = type === 'time' ? 'block' : 'none';
    }

    function removeExercise(id) {
      document.getElementById(`exercise-${id}`).remove();
      exercises = exercises.filter(exercise => exercise.id !== id);
    }

    function saveRoutine() {
      const routineName = document.getElementById('routineName').value;
      if (!routineName) {
        alert("Please enter a routine name.");
        return;
      }
      alert(`Routine '${routineName}' saved!`);
    }

    function startRoutine() {
      document.getElementById('workoutProgress').style.display = 'block';
      displayCurrentExercise();
    }

    function displayCurrentExercise() {
      if (currentExerciseIndex < exercises.length) {
        const exercise = exercises[currentExerciseIndex];
        const name = document.getElementById(`exerciseName-${exercise.id}`).value;
        const sets = document.getElementById(`sets-${exercise.id}`).value;
        const type = document.getElementById(`type-${exercise.id}`).value;
        document.getElementById('currentExercise').textContent = `Exercise: ${name}, Sets: ${sets}, Type: ${type}`;
      } else {
        endRoutine();
      }
    }

    function startExercise() {
      const exercise = exercises[currentExerciseIndex];
      const type = document.getElementById(`type-${exercise.id}`).value;
      const timer = document.getElementById(`timer-${exercise.id}`).value;

      if (type === 'time') {
        let [minutes, seconds] = timer.split(":").map(Number);
        workoutDuration += minutes * 60 + seconds;
        restInterval = setInterval(() => {
          workoutDuration++;
          updateDuration();
        }, 1000);
      }
    }

    function nextExercise() {
      clearInterval(restInterval);
      currentExerciseIndex++;
      displayCurrentExercise();
    }

    function updateDuration() {
      const minutes = Math.floor(workoutDuration / 60);
      const seconds = workoutDuration % 60;
      document.getElementById('totalDuration').textContent = `${String(minutes).padStart(2, '0')}:${String(seconds).padStart(2, '0')}`;
    }

    function endRoutine() {
      alert("Workout routine completed!");
      document.getElementById('workoutProgress').style.display = 'none';
    }
  </script>
</body>
</html>
